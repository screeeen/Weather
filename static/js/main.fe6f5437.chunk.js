(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{205:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(36),r=a.n(i),l=(a(7),a(6)),o=a(13),s=a(11);var m=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"location"},e.name))};function u(e){return c.a.createElement("p",{className:"weather-desc"},e.description)}function d(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"weather-desc"},"Feels like ",e.feelsLike,"\xba"))}function f(e){return c.a.createElement("div",{className:"temperature-chart"},c.a.createElement("p",{className:"temperature"},e.temp,c.a.createElement("span",{className:"degrees"},"\xba")))}function E(e){return c.a.createElement("div",{className:"sun-desc"},c.a.createElement("p",null,"Sunrise: ",e.sunrise," \xb7 Sunset: ",e.sunset))}var p={icons:{"01d":"wi wi-day-sunny","02d":"wi wi-day-cloudy","03d":"wi wi-cloudy","04d":"wi wi-cloudy","09d":"wi wi-showers","10d":"wi wi-day-rain","11d":"wi wi-day-thunderstorm","13d":"wi wi-day-snow-thunderstorm","50d":"wi wi-fog","01n":"wi wi-day-sunny","02n":"wi wi-day-cloudy","03n":"wi wi-cloudy","04n":"wi wi-cloudy","09n":"wi wi-showers","10n":"wi wi-day-rain","11n":"wi wi-day-thunderstorm","13n":"wi wi-day-snow-thunderstorm","50n":"wi wi-fog"}},g=(a(84),function(e){var t=e.iconId;if(!t)return"na";var a=p.icons[t];return a?c.a.createElement("i",{className:a}):"na"}),w=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",{className:"day-chart"},e.day),c.a.createElement("td",{className:"icon-chart"},c.a.createElement(g,{iconId:e.iconId})),c.a.createElement("td",{className:"max-chart"},e.temp_max.toFixed(0),"\xba"),c.a.createElement("td",{className:"min-chart"},e.temp_min.toFixed(0),"\xba")))},y=function(e){return new Date(1e3*e).toDateString().slice(0,3)},h=function(e,t){var a=(new Date).toTimeString().slice(0,9).split(":").join("").slice(0,4),n=v(e).toString().slice(0,9).split(":").join(""),c=v(t).toString().slice(0,9).split(":").join("");n=b(n),c=b(c);var i=0;return a>=n&&a<=c?(a=190,i=250):(a="30",i="40"),{background:"linear-gradient(#"+(a.toString(16)+a.toString(16)+i.toString(16))+",#333)",height:"80vh"}},v=function(e){var t=new Date(1e3*e),a=("0"+(t.getMonth()+1)).slice(-2);return t.getHours()+":"+a},b=function(e){return e.toString().length<4?"0"+e:e},C=function(e){var t=e.data;return c.a.createElement("div",null,c.a.createElement("table",{cellSpacing:"0",cellPadding:"0",className:"week-chart"},c.a.createElement("tbody",null,t.list.map((function(e,t){if(t%6===0)return c.a.createElement(w,{key:t,iconId:e.weather[0].icon,day:y(e.dt),temp:e.main.temp,temp_max:e.main.temp_max,temp_min:e.main.temp_min})})))))},k=a(37),S=a.n(k),x=function(e){var t=Object(n.useState)(new Date),a=Object(l.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){return o()}),1e3);return function(){clearInterval(e)}}));var o=function(){r(new Date)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{className:"weather-desc",format:"MMMM Do YYYY"}),c.a.createElement(S.a,{className:"weather-desc",format:"hh:mm:ss"},i))},N=a(72),j=function(e){var t=e.data,a=t.list.map((function(e){return y(e.main.dt)})),n=t.list.map((function(e){return e.main.temp}));console.log(t.list);var i={labels:a,datasets:[{label:"Forecast",barPercentage:.5,barThickness:3,maxBarThickness:80,minBarLength:2,backgroundColor:"white",borderSkipped:"top",borderColor:"white",data:n}]};return c.a.createElement(N.a,{data:i,options:{responsive:!0,scales:{xAxes:[{ticks:{fontColor:"#fff"},gridLines:{display:!0,color:"#bcbcf600"}}],yAxes:[{ticks:{fontColor:"#fff",callback:function(e,t,a){return e+" \xba"}},stacked:!0,gridLines:{display:!0,color:"#bcbcf6",drawOnChartArea:!1}}]},legend:{display:!1,labels:{fontColor:"white"}}}})},F=a(74),O=a(75),D=a.n(O).a.create({baseURL:"https://api.openweathermap.org",timeout:6e4}),_=function(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),i=a[0],r=a[1],o=Object(n.useState)(!1),s=Object(l.a)(o,2),p=s[0],g=s[1];return Object(n.useEffect)((function(){e.city&&function(e,t,a){D.get("/data/2.5/forecast?q=".concat(e,"&cnt=40&units=metric&appid=").concat("bb0eab3815c8289e5325c2c685b025d2")).then((function(e){t(e.data),e.data.list?a(!0):a(!1)}))}(e.city,r,g),console.log("canvas ef",i,e.city)}),[e.city,i]),c.a.createElement(c.a.Fragment,null,p&&i&&c.a.createElement(c.a.Fragment,null,console.log("calling canvas",p,i),c.a.createElement("div",{className:"weather-canvas",style:h(i.city.sunrise,i.city.sunset)},c.a.createElement("div",{className:"details"},c.a.createElement(F.CSSTransitionGroup,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:4e3,transitionEnter:!1,transitionLeave:!1},c.a.createElement(m,{name:i.city.name}),c.a.createElement(x,{date:i.list[0].dt}),c.a.createElement(u,{description:i.list[0].weather[0].description}),c.a.createElement(f,{temp:i.list[0].main.temp.toFixed(0),temp_max:i.list[0].main.temp_max.toFixed(0),temp_min:i.list[0].main.temp_min.toFixed(0)}),c.a.createElement(d,{feelsLike:i.list[0].main.feels_like.toFixed(0)}),c.a.createElement(E,{sunset:v(i.city.sunset),sunrise:v(i.city.sunrise)}))),c.a.createElement("div",{className:"chart"},c.a.createElement(j,{data:i})),c.a.createElement("div",{className:"table"},c.a.createElement(C,{data:i})))))},A=a(78);var I=function(e){e.setCity;var t=e.changeCity,a=e.addCity,i=e.cityCollection,r=Object(n.useState)(""),o=Object(l.a)(r,2),s=o[0],m=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),!i.includes(s)&&a((function(e){return[].concat(Object(A.a)(e),[s])})),t(s),m("")}},c.a.createElement("input",{type:"text",placeholder:"enter your city",name:"name",value:s,onChange:function(e){return m(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"+"}))))},L=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"delete-list"},e.cityCollection.map((function(t,a){return c.a.createElement("li",{className:"delete-bar",key:a},c.a.createElement("p",null,t),e.cityCollection.length>1&&c.a.createElement("button",{onClick:function(){e.DeleteCity(t)}},c.a.createElement("p",null,"Delete")))}))))},P=function(e){var t=e.changeCity,a=e.cityCollection;return c.a.createElement(c.a.Fragment,null,a.map((function(e,a){return c.a.createElement("li",{key:a},c.a.createElement(o.b,{to:"/"},c.a.createElement("button",{autoFocus:!0,onClick:function(){t(e)}},e)))})))},B=a(40),M=a.n(B),T=function(e){return c.a.createElement(c.a.Fragment,null,e.settingsPageActive?c.a.createElement(o.b,{onClick:function(){return e.setSettingsPageActive(!1)},to:"/"},c.a.createElement("img",{src:M.a,alt:"settingsIcon"})):c.a.createElement(o.b,{onClick:function(){return e.setSettingsPageActive(!0)},to:"/settings"},c.a.createElement("img",{src:M.a,alt:"settingsIcon"})))},Y=function(){var e=Object(n.useState)("Barcelona"),t=Object(l.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(["Barcelona"]),m=Object(l.a)(r,2),u=m[0],d=m[1],f=Object(n.useState)(!1),E=Object(l.a)(f,2),p=E[0],g=E[1];Object(n.useEffect)((function(){console.log("app ef",a)}),[a]);var w=function(e){i(e),g(!1)},y=function(e){var t=u.indexOf(e);u.splice(t,1),d(u),w(u[u.length-1])};return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("nav",null,c.a.createElement("div",{id:"search-widget"},c.a.createElement(I,{setCity:i,changeCity:w,addCity:d,cityCollection:u}),c.a.createElement(T,{setSettingsPageActive:g,settingsPageActive:p})),c.a.createElement("ul",null,c.a.createElement(P,{changeCity:w,cityCollection:u}),c.a.createElement("li",null))),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/settings",component:function(){return c.a.createElement(L,{cityCollection:u,DeleteCity:y})}}),c.a.createElement(s.a,{exact:!0,path:"/",component:function(){return c.a.createElement(_,{city:a,cityCollection:u,changeCity:w,setCity:i})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){e.exports=a.p+"static/media/settingsIcon.4b9f9cf2.svg"},7:function(e,t,a){},79:function(e,t,a){e.exports=a(205)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.fe6f5437.chunk.js.map