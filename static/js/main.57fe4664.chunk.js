(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{205:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(36),r=a.n(i),l=(a(7),a(4)),o=a(13),s=a(11);var m=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"location"},e.name))};function u(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"weather-desc"},e.description))}function d(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{className:"weather-desc"},"Feels like ",e.feelsLike,"\xba"))}function E(e){return c.a.createElement("div",{className:"temperature-chart"},c.a.createElement("p",{className:"temperature"},e.temp,c.a.createElement("span",{className:"degrees"},"\xba")))}function p(e){return c.a.createElement("div",{className:"sun-desc"},c.a.createElement("p",null,"Sunrise: ",e.sunrise," \xb7 Sunset: ",e.sunset))}var g={icons:{"01d":"wi wi-day-sunny","02d":"wi wi-day-cloudy","03d":"wi wi-cloudy","04d":"wi wi-cloudy","09d":"wi wi-showers","10d":"wi wi-day-rain","11d":"wi wi-day-thunderstorm","13d":"wi wi-day-snow-thunderstorm","50d":"wi wi-fog","01n":"wi wi-day-sunny","02n":"wi wi-day-cloudy","03n":"wi wi-cloudy","04n":"wi wi-cloudy","09n":"wi wi-showers","10n":"wi wi-day-rain","11n":"wi wi-day-thunderstorm","13n":"wi wi-day-snow-thunderstorm","50n":"wi wi-fog"}},f=(a(84),function(e){var t=e.iconId;if(!t)return"na";var a=g.icons[t];return console.log(g.icons[t]),a?c.a.createElement("i",{className:a}):"na"}),w=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",null,c.a.createElement("td",{className:"day-chart"},e.day),c.a.createElement("td",{className:"icon-chart"},c.a.createElement(f,{iconId:e.iconId})),c.a.createElement("td",{className:"max-chart"},e.temp_max.toFixed(0),"\xba"),c.a.createElement("td",{className:"min-chart"},e.temp_min.toFixed(0),"\xba")))},y=function(e){return new Date(1e3*e).toDateString().slice(0,3)},h=function(e){var t=e.data;return c.a.createElement("div",null,c.a.createElement("table",{cellSpacing:"0",cellPadding:"0",className:"week-chart"},c.a.createElement("tbody",null,t.list.map((function(e,t){if(t%6===0)return c.a.createElement(w,{key:t,iconId:e.weather[0].icon,day:y(e.dt),temp:e.main.temp,temp_max:e.main.temp_max,temp_min:e.main.temp_min})})))))},v=a(37),b=a.n(v),C=function(e){var t=Object(n.useState)(new Date),a=Object(l.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){return o()}),1e3);return function(){clearInterval(e)}}));var o=function(){r(new Date)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{className:"weather-desc",format:"MMMM Do YYYY"}),c.a.createElement(b.a,{className:"weather-desc",format:"hh:mm:ss"},i))},S=a(72),j=function(e){var t=e.data,a=t.list.map((function(e){return y(e.main.dt)})),n=t.list.map((function(e){return e.main.temp}));console.log(n);var i={labels:a,datasets:[{label:"Forecast",barPercentage:.5,barThickness:3,maxBarThickness:8,minBarLength:2,backgroundColor:"white",borderSkipped:"top",borderColor:"white",data:n}],options:{legend:{labels:{fontColor:"white"},scales:{xAxes:[{display:!0,gridLines:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!1}}]}}}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{data:i}))},x=a(74),O=function(e){var t=Object(n.useState)(e.data),a=Object(l.a)(t,2),i=a[0],r=a[1];Object(n.useEffect)((function(){r(e.data)}),[]);var o=function(e){var t=new Date(1e3*e),a=("0"+(t.getMonth()+1)).slice(-2);return t.getHours()+":"+a};return c.a.createElement(c.a.Fragment,null,e.loaded&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"weather-canvas",style:function(){var t=(new Date).toTimeString().slice(0,9).split(":").join("").slice(0,4),a=o(e.data.city.sunrise).toString().slice(0,9).split(":").join(""),n=o(e.data.city.sunset).toString().slice(0,9).split(":").join(""),c=function(e){return e.toString().length<4?"0"+e:e};a=c(a),n=c(n);var i=0;return t>=a&&t<=n?(t=190,i=250):(t="30",i="40"),{background:"linear-gradient(#"+(t.toString(16)+t.toString(16)+i.toString(16))+",#333)",height:"80vh"}}()},c.a.createElement("div",{className:"details"},c.a.createElement(x.CSSTransitionGroup,{transitionName:"example",transitionAppear:!0,transitionAppearTimeout:4e3,transitionEnter:!1,transitionLeave:!1},c.a.createElement(m,{name:i.city.name}),c.a.createElement(C,{date:i.list[0].dt}),c.a.createElement(u,{description:i.list[0].weather[0].description}),c.a.createElement(E,{temp:i.list[0].main.temp.toFixed(0),temp_max:i.list[0].main.temp_max.toFixed(0),temp_min:i.list[0].main.temp_min.toFixed(0)}),c.a.createElement(d,{feelsLike:i.list[0].main.feels_like.toFixed(0)}),c.a.createElement(p,{sunset:o(i.city.sunset),sunrise:o(i.city.sunrise)}))),c.a.createElement("div",{className:"chart"},c.a.createElement(j,{data:i})),c.a.createElement("div",{className:"table"},c.a.createElement(h,{data:i})))))},F=a(78);var N=function(e){var t=e.setCity,a=e.changeCity,i=e.addCity,r=e.cityCollection,o=Object(n.useState)(""),s=Object(l.a)(o,2),m=s[0],u=s[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),!r.includes(m)&&i((function(e){return[].concat(Object(F.a)(e),[m])})),a(m),t("")}},c.a.createElement("input",{type:"text",placeholder:"enter your city",name:"name",value:m,onChange:function(e){return u(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"+"}))))},k=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"delete-list"},e.cityCollection.map((function(t,a){return c.a.createElement("li",{className:"delete-bar",key:a},c.a.createElement("p",null,t),e.cityCollection.length>1&&c.a.createElement("button",{onClick:function(){e.DeleteCity(t)}},c.a.createElement("p",null,"Delete")))}))))},D=a(75),_=a.n(D).a.create({baseURL:"https://api.openweathermap.org",timeout:6e4}),I=function(e,t,a){_.get("/data/2.5/forecast?q=".concat(e,"&cnt=40&units=metric&appid=").concat("bb0eab3815c8289e5325c2c685b025d2")).then((function(e){console.log("'calling: ",e.data),t(e.data),e.data.list?a(!0):a(!1)}))},A=function(e){var t=e.changeCity,a=e.cityCollection;return c.a.createElement(c.a.Fragment,null,a.map((function(e,a){return c.a.createElement("li",{key:a},c.a.createElement(o.b,{to:"/"},c.a.createElement("button",{autoFocus:!0,onClick:function(){t(e)}},e)))})))},L=a(40),P=a.n(L),B=function(e){return c.a.createElement(c.a.Fragment,null,e.settingsPageActive?c.a.createElement(o.b,{onClick:function(){return e.setSettingsPageActive(!1)},to:"/"},c.a.createElement("img",{src:P.a,alt:"settingsIcon"})):c.a.createElement(o.b,{onClick:function(){return e.setSettingsPageActive(!0)},to:"/settings"},c.a.createElement("img",{src:P.a,alt:"settingsIcon"})))},M=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],r=Object(n.useState)(!1),m=Object(l.a)(r,2),u=m[0],d=m[1],E=Object(n.useState)(["Barcelona"]),p=Object(l.a)(E,2),g=p[0],f=p[1],w=Object(n.useState)("Barcelona"),y=Object(l.a)(w,2),h=y[0],v=y[1],b=Object(n.useState)(!1),C=Object(l.a)(b,2),S=C[0],j=C[1],x=Object(n.useState)(null),F=Object(l.a)(x,2);F[0],F[1];Object(n.useEffect)((function(){I(h,i,d)}),[]);var D=function(e){v(e),I(e,i,d),j(!1)},_=function(e){var t=g.indexOf(e);g.splice(t,1),f(g),D(g[g.length-1])};return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement("nav",null,c.a.createElement("div",{id:"search-widget"},c.a.createElement(N,{setCity:v,changeCity:D,addCity:f,cityCollection:g}),c.a.createElement(B,{setSettingsPageActive:j,settingsPageActive:S})),c.a.createElement("ul",null,c.a.createElement(A,{changeCity:D,cityCollection:g}),c.a.createElement("li",null))),c.a.createElement(s.c,null,c.a.createElement(s.a,{exact:!0,path:"/settings",component:function(){return c.a.createElement(k,{cityCollection:g,DeleteCity:_})}}),c.a.createElement(s.a,{exact:!0,path:"/",component:function(){return c.a.createElement(O,{data:a,loaded:u,cityCollection:g,callWeather:I,changeCity:D,setCity:v})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},40:function(e,t,a){e.exports=a.p+"static/media/settingsIcon.4b9f9cf2.svg"},7:function(e,t,a){},79:function(e,t,a){e.exports=a(205)},84:function(e,t,a){}},[[79,1,2]]]);
//# sourceMappingURL=main.57fe4664.chunk.js.map